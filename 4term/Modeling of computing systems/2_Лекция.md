# Моделирование вычислительных систем
## Лекция №2
13.02.2023

---
## Элементы ТМО(Теория массового обслуживания)


>Многие модели реальных систем строятся на основе Модели Массового Обслуживания 

***ММО:***
- Базовые
- Сетевые

**Система массового обслуживания(СМО)**
Рис. 1

Существует 3 процесса в СМО:
- Поступление
- Передача Н(0) //Накопитель,очередь
- Выход из системы

***СМО*** - это математический абстрактный обьект, соединяющий 1 или несколько приборов, обслуживающих заявки поступающие в систему и накопитель в котором находятся заявки, ожидающие обслуживания

***Заявка*** - это объект поступающий в СМО и требующий обслуживания в приборе

Совокупность заявок, распределенная о времени называется ***очередью.***

Под обслуживанием в приборе будем понимать задержку обьекта в приборе.

Длительность задержки - время обработки заявки

***Накопитель или буфер*** -это совокупность мест для ожиданя заявок в приборе:

- ограниченные
- неограниченные

Заявка в СМО может находиться в 2-х состояниях:
- Обслуживание в приборе
- Ожидание в накопителе

> Заявки в накопителе образуют очередь.

>Колличество заявок определяет длину очереди.


**Дисциплина Буферизации** - это 
правило занесения поступающих заявок в очередь.

**Дисциплина обслуживания** - это правило выборки заявок из очереди для обслуживания в приборе.

Заявки в СМО могут относиться к разным классам.

Для заявок различных классов могут быть определены различные ДБ и ДО

### Ограничения СМО:
---

1. Заявка поступившая в СМО мгновенно поступает на обслуживание, если прибор свободен.
2. В приборе на обслуживании может быть 1 заявка. 
3. После завершения обслуживания очередная заявка выбирается из очереди мгновенно, т.е. прибор не простаивает, если в очереди есть хотя бы 1 заявка.
4. Поступление заявок в СМО и их очередь не зависят от того, сколько заявок присутствует в системе, либо от каких-либо других факторов.
5. Длительность обслуживания заявки не зависит от интенсиности поступения заявок в систему.

Сеть СМО - это совокупность базовых СМО, среди которых циркуируют заявки.

Узел сети == СМО
И - источник заявок.

Рис. 2
Рис. 3

Поток заявок - это совокупность событий распределенная по времени.
Для описания потока заявок необходимо задать интервалы времени 
&#964;1; &#964;2; ... &#964;n; между соседними t(k-1), t(k); &#964;k = t(k) - t(k-1);

Основной характеристикой потока является интенсивность 	
&#955; - этосреднее число заявок, проходящее через определенную границу в единицу времени.

>&#964;(cp) = 1 / &#955; Средний интервал времени между соседними заявками.

Поток в котором интервалы времени &#964;k имеют заранее определенное значение называют ***детерминированными***, при этом если для любого &#964;k = &#964;, то поток называется регулярным

Для полного описания регулярного потока достаточно знать &#955; или &#964;

>Поток заявок в котором &#964;k - случаная величина называется случайным и для его описания нужно задать закон распределения Аk(&#964;k) для всех интервалов

>Случайный поток в котором все интервалы &#964;1; &#964;2; ... &#964;n; независымие и описываются законами распределения А1, А2, ... и т д называются потоками с ограниченным последействием.

Если при этом А(&#964;) - одинаковые, то поток называется рекуррентным.

Если &#955; и A(&#964;) не меняются во времени, то поток называют стационарным.

>Поток зовется ординарным, если в каждый момент времени tk в системе может появиться 1 заявка, иначе неординарный.

>Поток называется потоком без последействия, если заявки появляются независимо друг от друга, т.е. появление очередной заявки не зависит от того сколько их поступило.

>***Стационарный ординарный поток без последействия называется - простейшим.***

Интервалы времени в простейшем потоке распределены по экспоненциальному закону A(&#964;) = 1 - e^(-&#955;&#964;); &#955; > 0;

Характеристика прибора - это длительность обслуживния в нем заявок.

Время нахождения заявке в приборе величина случаная описываемая законом распределения B(&#964;);

b =B'(&#964;) - плотность распределения(среднее время ожидания)

&#956; = 1/b - интенсивность обсуживания

### Стратегия управления потоками заявок в ММО
---
Дисциплины буферизации(ДБ):
- Бесприоритетные
  - БВЗ
  - ВЗДК *
- Приоритетные
  - ВЗНК *
  - ВЗГК *
- *
  - ВСЛ
  - ВПЗ
  - ВДЗ

ДБ и ДО могут быть классифицированы по следующим признакам:
1. Наличие приоритета
2. Способ вытеснения
3. Правило вытеснения
4. Возможность смены приоритета

По способу вытеснения:
- БВЗ(Без Вытеснения Заявок) - Заявки поступившие в систему и заставшие буфер заполненым теряются
- ВЗДК(Вытеснение заявок действующего класса)
- ВЗНК(Вытеснение заявок низкоприоритетного класса)
- ВЗГК(Вытеснение заявки принадлежащей группе классов)

ДБ могут использовать следующие правила:
- ВСЛ - Случайное вытеснение
- ВПЗ - Вытеснение последней заявки
- ВДЗ - Вытеснение самой Долгой заявки

Дисциплины обсуживания
- Бесприоритетные
  - Одиночного режима
    - ОПП
    - ООП
    - ОСП
    - ОЦП
  - Группового режима
    - ОЦП
  - Комбинированного режима
- Приоритетные
  - Одиночного режима
    - ОП
    - АП
    - СП
  - Группового режима
    - ЧП  
    - ОР
  - Комбинированного режима

Для одиночного режима назначается 1 заявка

Для группового режима назначается группа заявок одной очереди
Просмотр очередей доступен после обслуживания всех заявок предыдущей группы

При этом внутри блока заявки обслуживаются последовательно.

ДО используют следующие правила выбоpа:
- Бесприоритетные
  - ОПП - по порядку поступления FIFO
  - ООП - в обратном порядке LIFO
  - ОСП - выбор случайным образом
  - ОЦП - обслудивание в циклическом порядке
- Приоритетные
  -  ОП - с относительными приоритетами, учитываются только в момент завершения обслуживания заявок, при выборе новой заявки на обслуживание и не влияют на обработку низкоприоритетных заявок
  -  АП - с абсолютным приоритетом. Высокоприоритетные заявки обслуживаются в первую очередь. Низкоприоритетные вытесняются: идут в накопитель или теряются
  -  СП - со смешанными приоритетами
  -  ЧП - черезующиеся приоритеты. Аналог ОП, в момент завершения обслуживания, перед очередной выборкой.
  -  ОР - обслуживание по расписанию.
  
  